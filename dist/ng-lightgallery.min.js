!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(2),s=function(){function e(){}return e.prototype.open=function(e){var t=e.images,n=e.currentImage||e.current,s=e.container||"body",a=e.index;a=!a&&0!==a&&n?o.indexOf(t,n):0;var p=o(t).map(function(e){var t={};return o.isString(e)?(t.src=e,t.thumb=e):o.isObject(e)&&(t.src=e.url||e.src,t.thumb=e.thumb||t.src),t}).value(),l=r.element(s),c=i({},e.lgoptions,{dynamic:!0,index:a||0,dynamicEl:p});p.length&&(l.lightGallery(c),l.one("onCloseAfter.lg",function(){l.data("lightGallery").destroy(!0)}))},e}(),a=function(){function e(){}return e.prototype.open=function(e){var t=e.images||[],n=e.index,i=e.currentImage||e.current,s=e.container||"body";r.element(s).children(".pswp").length||r.element(s).append('\n\n        <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">\n\n            \x3c!-- Background of PhotoSwipe.\n                 It\'s a separate element as animating opacity is faster than rgba(). --\x3e\n            <div class="pswp__bg"></div>\n\n            \x3c!-- Slides wrapper with overflow:hidden. --\x3e\n            <div class="pswp__scroll-wrap">\n\n                \x3c!-- Container that holds slides.\n                    PhotoSwipe keeps only 3 of them in the DOM to save memory.\n                    Don\'t modify these 3 pswp__item elements, data is added later on. --\x3e\n                <div class="pswp__container">\n                    <div class="pswp__item"></div>\n                    <div class="pswp__item"></div>\n                    <div class="pswp__item"></div>\n                </div>\n\n                \x3c!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. --\x3e\n                <div class="pswp__ui pswp__ui--hidden">\n\n                    <div class="pswp__top-bar">\n\n                        \x3c!--  Controls are self-explanatory. Order can be changed. --\x3e\n\n                        <div class="pswp__counter"></div>\n\n                        <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>\n\n                        <button class="pswp__button pswp__button--share" title="Share"></button>\n\n                        <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>\n\n                        <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>\n\n                        \x3c!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR --\x3e\n                        \x3c!-- element will get class pswp__preloader--active when preloader is running --\x3e\n                        <div class="pswp__preloader">\n                            <div class="pswp__preloader__icn">\n                              <div class="pswp__preloader__cut">\n                                <div class="pswp__preloader__donut"></div>\n                              </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">\n                        <div class="pswp__share-tooltip"></div>\n                    </div>\n\n                    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">\n                    </button>\n\n                    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">\n                    </button>\n\n                    <div class="pswp__caption">\n                        <div class="pswp__caption__center"></div>\n                    </div>\n\n                </div>\n\n            </div>\n\n        </div>\n\n        ');var a=r.element(s).children(".pswp");n=!n&&0!==n&&i?t.indexOf(i):0,t=t.map(function(e){var t={};return o.isString(e)?t.src=e:o.isObject(e)&&(t.src=e.url||e.src),t.w=e.w||e.width||0,t.h=e.h||e.height||0,t});var p={history:!1,focus:!1,index:n};e.targetEvent&&(p.getThumbBoundsFn=function(t){var n=e.targetEvent.target,i=window.pageYOffset||document.documentElement.scrollTop,o=n.getBoundingClientRect();return{x:o.left,y:o.top+i,w:o.width}}),o.merge(p,e.photoswipeOptions);var l=new PhotoSwipe(a[0],PhotoSwipeUI_Default,t,p);return l.init(),l.listen("gettingData",function(e,t){if(t.w<1||t.h<1){var n=new Image;n.onload=function(){t.w=this.width,t.h=this.height,l.invalidateCurrItems(),l.updateSize(!0)},n.src=t.src}}),l},e}();r.module("ngLightgallery",[]).service("$lightGallery",s).service("$photoswipe",a).directive("viewImage",["$lightGallery","$photoswipe",function(e,t){return{restrict:"A",require:{photoswipe:"?^^"},link:function(n,i,o,r){var s,a=r.photoswipe;a&&a.addImage(i[0]),i.on("click",function(r){var p;a?(!(p=n.$eval(o.viewImage)||{}).images&&i.attr("src")&&(p.images=[i.attr("src")],p.index=0),p.photoswipeOptions={},p.photoswipeOptions.getThumbBoundsFn=function(e){var t=a.images()[e],n=window.pageYOffset||document.documentElement.scrollTop,i=t.getBoundingClientRect();return{x:i.left,y:i.top+n,w:i.width}},n.$apply(function(){s=t.open(p)})):(!(p=n.$eval(o.viewImage)||{}).images&&i.attr("src")&&(p.images=[i.attr("src")],p.index=0),n.$apply(function(){s=e.open(p)}))}),i.on("$destroy",function(){a&&a.removeImage(i[0]),s&&s.data("lightGallery")&&s.data("lightGallery").destroy(!0)})}}}]).directive("photoswipe",["$photoswipe",function(e){return{controller:["$scope",function(e){var t=this;this._images=[],this.images=function(){return t._images},this.addImage=function(e){return t._images.push(e)},this.removeImage=function(e){return o.remove(t._images,e)}}]}}])},function(e,t){e.exports=_},function(e,t){e.exports=angular}]);